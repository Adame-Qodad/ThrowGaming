{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} - Gestion Jeux{% endblock %}

{% block body %}
<div class="flex flex-col gap-2 mb-5">
    <a class="display-block p-1 my-2 bg-green-500 text-white rounded" href="{{path('app_admin_jeu_ajout')}}">Ajouter un jeu</a>
    {% for jeu in jeux %}
        <div class="flex flex-row gap-2 items-center p-2 border border-black/25 rounded-lg">
            <span class="self-start">
            {% if jeu.image == null %}
                <svg height="32" width="32">
                    <rect x="0" y="0" width="100%" height="100%" fill="gray" rx="5px" />
                </svg>
            {% else %}
                <img src="{{ jeu.image }}"
                class="width-[32px] height-[32px] border border-black/25 rounded-[5px]" 
                draggable="false" />
            {% endif %}
            </span>
            <div class="flex flex-col w-full">
                <div class="flex flex-row w-full gap-2">
                    <span>{{ jeu.titre }}</span>
                    <span class="px-3 border border-black/25 rounded-full text-sm text-gray-500">
                    {{ jeu.genre.libelle }}</span>
                </div>
                <div class="flex flex-row w-full gap-2">
                    <span>Prix : {{ jeu.prix|number_format(2, '.') }}€</span>
                    <span>Ventes : {{ jeu.ventes }} unités</span>
                    <span>Editeur : {{ jeu.editeur.nom }}</span>
                </div>
                <div class="flex flex-row w-full gap-2">
                    <span>Plateforme : 
                    {% for console in jeu.consoles %}
                        {{ console.nom }}
                    {% endfor %}
                    </span>
                </div>
                <div class="flex flex-row w-full gap-2">
                    <a class="text-indigo-500 hover:underline" href="{{path('app_admin_jeu_edit', {'id': jeu.id})}}">Modifier</a> |
                    <a class="text-indigo-500 hover:underline" href="{{path('app_admin_jeu_suppr', {'id': jeu.id})}}">Supprimer</a>
                </div>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}
